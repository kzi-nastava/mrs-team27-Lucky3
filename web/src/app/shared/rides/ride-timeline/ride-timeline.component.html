<div class="card">
  <h3 class="section-title mb-6">Ride Timeline</h3>
  <div class="space-y-6 relative pl-2">
    <div class="absolute left-[5px] top-2 bottom-2 w-0.5 bg-gray-800"></div>

    <div class="relative flex gap-4">
      <div class="w-3 h-3 rounded-full bg-yellow-500 mt-1.5 z-10"></div>
      <div>
        <p class="text-value">Ride Requested</p>
        <p class="text-label">{{ formatDate(ride.requestedAt) }}, {{ formatTime(ride.requestedAt) }}</p>
      </div>
    </div>

    <div *ngIf="ride.status === 'Cancelled'" class="relative flex gap-4">
      <div class="w-3 h-3 rounded-full bg-red-500 mt-1.5 z-10"></div>
      <div>
        <p class="text-value">Ride Cancelled</p>
        <p class="text-label">{{ formatDate(ride.completedAt || ride.startedAt || ride.requestedAt) }}, {{ formatTime(ride.completedAt || ride.startedAt || ride.requestedAt) }}</p>
      </div>
    </div>

    <ng-container *ngIf="ride.status !== 'Cancelled'">
      <div class="relative flex gap-4">
        <div class="w-3 h-3 rounded-full bg-gray-700 mt-1.5 z-10"></div>
        <div>
          <p class="text-value">Driver Accepted</p>
          <p class="text-label">{{ formatDate(ride.requestedAt) }}, {{ formatTime(ride.requestedAt) }}</p>
        </div>
      </div>

      <div class="relative flex gap-4">
        <div class="w-3 h-3 rounded-full bg-gray-700 mt-1.5 z-10"></div>
        <div>
          <p class="text-value">Ride Started</p>
          <p class="text-label">{{ formatDate(ride.startedAt) }}, {{ formatTime(ride.startedAt) }}</p>
        </div>
      </div>

      <div class="relative flex gap-4">
        <div class="w-3 h-3 rounded-full bg-gray-700 mt-1.5 z-10"></div>
        <div>
          <p class="text-value">Ride Completed</p>
          <p class="text-label">{{ formatDate(ride.completedAt) }}, {{ formatTime(ride.completedAt) }}</p>
        </div>
      </div>
    </ng-container>
  </div>
</div>